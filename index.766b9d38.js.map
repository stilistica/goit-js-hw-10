{"mappings":"AAAA,MCEMA,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,QAASJ,SAASC,cAAc,cA4DlC,SAASI,IACPP,EAAKK,MAAMG,MAAMC,QAAU,O,CD9DpBC,MAAM,sCAAsB,CACjCC,QAAS,CACP,YALJ,2EAQGC,MAAKC,IACJ,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAM,qBACd,OAARF,EAAIG,MAAM,IAElBJ,MAAKK,GACGA,EAAKC,KAAIC,IAAU,CACxBC,GAAID,EAAMC,GACVC,KAAMF,EAAME,WCPjBT,MAAKU,IACJA,EAAOC,SAAQJ,IACb,MAAMK,EAAStB,SAASuB,cAAc,UACtCD,EAAOE,MAAQP,EAAMC,GACrBI,EAAOG,YAAcR,EAAME,KAC3BrB,EAAKC,YAAY2B,YAAYJ,EAAO,GACpC,IAEHK,OAAMxB,IACLyB,QAAQC,IAAI1B,GACZE,GAAW,IAGfP,EAAKC,YAAY+B,iBAAiB,UAAU,KAC1C,MAAMC,EAAkBjC,EAAKC,YAAYyB,MDFZ,IAACQ,ECG1BD,GAkCJjC,EAAKI,OAAOI,MAAMC,QAAU,QAY5BT,EAAKK,MAAMG,MAAMC,QAAU,QDjDGyB,ECMZD,EDLXvB,MAAM,wDAAuCwB,IAAW,CAC7DvB,QAAS,CACP,YAvBJ,2EA0BGC,MAAKC,IACJ,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAM,qBAC7B,OAAOF,EAAIG,MAAM,IAElBJ,MAAKK,IACJ,MAAMkB,EAAMlB,EAAK,GACjB,MAAO,CACLmB,IAAKD,EAAIC,IACTf,KAAMc,EAAIb,OAAO,GAAGD,KACpBgB,YAAaF,EAAIb,OAAO,GAAGe,YAC3BC,YAAaH,EAAIb,OAAO,GAAGgB,YAC5B,KCVA1B,MAAKuB,KAYZ,SAAwBA,GACtB,MAAM7B,EAMR,UAA8B8B,IAAEA,EAAGf,KAAEA,EAAIgB,YAAEA,EAAWC,YAAEA,IACtD,MAAMhC,EAAUJ,SAASuB,cAAc,OAMvC,OALAnB,EAAQiC,UAAY,iBACRH,WAAaf,gBACjBA,+BACYgB,8BACAC,QACbhC,C,CAbSkC,CAAqBL,GACrCnC,EAAKM,QAAQiC,UAAY,GACzBvC,EAAKM,QAAQsB,YAAYtB,GA+BzBN,EAAKM,QAAQE,MAAMC,QAAU,QAZ7BT,EAAKI,OAAOI,MAAMC,QAAU,M,CAjCtBgC,CAAeN,EAAI,IAEpBN,OAAMxB,IACLyB,QAAQC,IAAI1B,GACZE,GAAW,KA6CjBP,EAAKM,QAAQE,MAAMC,QAAU,MA1Cd","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'live_ehvX1JCmEprsriNMrj3JT0T8UQlJxWfRtfLZmBluyY6kKEkvTX4k7OV8ufdgcILt';\n\nexport const fetchBreeds = () => {\n  return fetch(`${BASE_URL}/breeds`, {\n    headers: {\n      'x-api-key': API_KEY,\n    },\n  })\n    .then(res => {\n      if (!res.ok) throw new Error('Запит не виконано');\n      return res.json();\n    })\n    .then(data => {\n      return data.map(breed => ({\n        id: breed.id,\n        name: breed.name,\n      }));\n    });\n};\n\nexport const fetchCatByBreed = (breedId) => {\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}`, {\n    headers: {\n      'x-api-key': API_KEY,\n    },\n  })\n    .then(res => {\n      if (!res.ok) throw new Error('Запит не виконано');\n      return res.json();\n    })\n    .then(data => {\n      const cat = data[0];\n      return {\n        url: cat.url,\n        name: cat.breeds[0].name,\n        description: cat.breeds[0].description,\n        temperament: cat.breeds[0].temperament,\n      };\n    });\n};\n","import { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nfetchBreeds()\n  .then(breeds => {\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      refs.breedSelect.appendChild(option);\n    });\n  })\n  .catch(error => {\n    console.log(error);\n    showError();\n  });\n\nrefs.breedSelect.addEventListener('change', () => {\n  const selectedBreedId = refs.breedSelect.value;\n  if (selectedBreedId) {\n    showLoader();\n    hideError();\n    fetchCatByBreed(selectedBreedId)\n      .then(cat => {\n        displayCatInfo(cat);\n      })\n      .catch(error => {\n        console.log(error);\n        showError();\n      });\n  } else {\n    hideCatInfo();\n  }\n});\n\nfunction displayCatInfo(cat) {\n  const catInfo = createCatInfoElement(cat);\n  refs.catInfo.innerHTML = '';\n  refs.catInfo.appendChild(catInfo);\n  showCatInfo();\n  hideLoader();\n}\nfunction createCatInfoElement({ url, name, description, temperament }) {\n  const catInfo = document.createElement('div');\n  catInfo.innerHTML = `\n  <img src=\"${url}\" alt=\"${name}\">\n    <h2>${name}</h2>\n    <p>Description: ${description}</p>\n    <p>Temperament: ${temperament}</p>`;\n  return catInfo;\n}\n\nfunction showLoader() {\n  refs.loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  refs.loader.style.display = 'none';\n}\n\nfunction showError() {\n  refs.error.style.display = 'block';\n}\n\nfunction hideError() {\n  refs.error.style.display = 'none';\n}\n\nfunction showCatInfo() {\n  refs.catInfo.style.display = 'block';\n}\n\nfunction hideCatInfo() {\n  refs.catInfo.style.display = 'none';\n}\n"],"names":["$1f0dc3b9307be026$var$refs","breedSelect","document","querySelector","loader","error","catInfo","$1f0dc3b9307be026$var$showError","style","display","fetch","headers","then","res","ok","Error","json","data","map","breed","id","name","breeds","forEach","option","createElement","value","textContent","appendChild","catch","console","log","addEventListener","selectedBreedId","breedId","cat","url","description","temperament","innerHTML","$1f0dc3b9307be026$var$createCatInfoElement","$1f0dc3b9307be026$var$displayCatInfo"],"version":3,"file":"index.766b9d38.js.map"}